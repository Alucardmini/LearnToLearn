[Flex 弹性布局](http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html)

# 布局
通过盒模型、浮动和定位实现CSS的基本布局。

## 盒模型
1. 使用真正的‘盒子’  
CSS中，width和height设置的是内容区域的高度，所以如果改变了padding和border的值，盒子的大小就会随之改变，
通过设置box-sizing：border-box就可以实现真正的盒子，使得width和height的计算包含边框和内边距。
其实现代码如下：  
        html {
            box-sizing: border-box;
        }

        *, *:before, *:after {
        box-sizing: inherit;
        }
        
2. ‘盒子’比直观上看上去要多  
布局不是从具体内容出发，而是从网页的整体出发，所以实际上包含内容的的盒子是几个盒子的嵌套，
而不仅仅是一个盒子。通常需要有一个外部盒子，实现（每个模块）整体的布局；每个模块的内部的各个元素的位置关系（主要是margin）
也需要一个盒子；具体每个元素再由一个盒子包裹，确定该元素的大小以及调整padding和border。如果不使用border-box就需要再增加一层盒子。

3. 内联盒子  
块级盒子按照文档流垂直排列，而内联盒子一个跟着一个水平排列，一个内联盒子总是跟在前一个盒子的右边，直到填满水平的空间再换行。

4. 一些小问题
    - 外边距的单位  
    左右边距一般固定，用px好；上下边距一般用来分隔段落，应该用相对单位（em）好，这样段落的间距会随字体的大小而自动调整。
    - 没有（设置 width 的）宽度的元素始终会扩展到填满其父元素的宽度为止。 

## 浮动float
使元素脱离正常的文档流并使其移动到其父元素的“最左边”或“最右边”或碰到另一个浮动元素（边框，这个浮动元素并不一定是和他平级的元素）。  
浮动本质上是为了实现图片的文字环绕效果。  
1. 浮动的影响  
    - 自身会变成块对象，也就相当于display：block；所以对于浮动元素，不需要再写display，即使写了也会是写在后面的覆盖前面的。
    - 因为他会脱离文档流，所以无法撑开父元素，造成父元素的塌陷。于是就需要清浮动。  
    清浮动的集中方法： 
    
            .clearfix:after {
                content:".";
                display:block;
                height:0;
                visibility:hidden;
                clear:both;
            }//主要使用的方法
        - 为父元素应用 overflow:hidden（对于有下拉菜单的当然不能用） 
        - 浮动父元素（对于靠margin：0 auto；居中的元素当然不能用） 
        - 在父元素内容的末尾添加非浮动元素，可以直接在标记中加，也可以通过给父元        
    - 非浮动的兄弟元素。对于块级元素，他会占据原来浮动元素的位置，并且处于浮动元素的下方，
    并且不能通过z-index调整到浮动元素的上方。但是其内部的文字（内联元素）会环绕浮动；  
    >Tip： 写demo时，注意不要打一长串字母作为内联元素，这样做在设置了非浮动的兄弟元素的width后
    看不出文字环绕的效果，因为浏览器以为你打的是一个单词！  
    
    对于内联元素，会直接形成文字环绕效果。  
    - 浮动的兄弟元素。如果方向相同，会跟在前一个元素的后方，只要那一行能放的下。
    - 子元素。浮动元素的子元素会撑开该浮动元素，使其宽度高度自适应于子元素。  
    
## 定位position
1. 几种取值  
static、fixed、relative、absolute、inherit。  
其中static是默认属性，表示not positioned，元素会按照文档流布局，他处于什么位置以及它如何影响周边的元素都是由盒模型所决定的。他会忽略所有 top，right，bottom，left 以及 z-index 属性所声明的值。  
fixed是以窗口为参照固定某元素的位置，不随页面滚动，会脱离文档流。  
2. 绝对定位absolute  
会从文档流中脱离，使用top、right、bottom、left其中的两者来定位，默认值是auto，会按照文档流的位置布局该元素。绝对定位的元素无法撑开父元素。  
一个绝对定位的元素的起点位置是第一个position不为static的父元素，如果没有则会相对于文档窗口定位。   
3. 相对定位relative  
不会从文档流中脱离，也使用top、right、bottom、left其中的两者来定位，就像是给该元素添加了一个只有该元素知道的margin，元素会相对于其原来在文档流中的位置定位。

## z-index
对于同一层的元素：
1. not positioned 的元素，后来的在前面的上面
2. positioned的元素比not positioned 要高，同为positioned，后面的高 
3. 设置类z-index（只有positioned才能设置）的比按照设置的顺序来。 

会产生新的层的情况：
1. `<html>`
2. 元素z-index设置了值
3. 当元素设置了opacity、transform、filters、css-regions等。