# 正则表达式学习

## 基本表达
### 常用元字符
| 代码 |             说明             |
|------|------------------------------|
| .    | 匹配除换行符以外的任意字符   |
| \w   | 匹配字母或数字或下划线或汉字 |
| \s   | 匹配任意的空白符             |
| \d   | 匹配数字                     |
| \b   | 匹配单词的开始或结束         |
| ^    | 匹配字符串的开始             |
| $    | 匹配字符串的结束             |
| []   | 匹配[]内的内容               |

>如果选中了处理多行，`^\&`就代表匹配行的开始和结束

### 重复指令（常用限定符）
|  代码 |       说明       |
|-------|------------------|
| *     | 重复零次或更多次 |
| +     | 重复一次或更多次 |
| ?     | 重复零次或一次   |
| {n}   | 重复n次          |
| {n,}  | 重复n次或更多次  |
| {n,m} | 重复n到m次       |

>`^\w+`匹配一行的第一个单词

### 分支条件
满足几种规则的任意一种就应该匹配，通过`|`把不同规则分隔开。匹配分支条件时会从左向右测试，如果满足则不会匹配后面的，所以要 **注意顺序**.

### 分组
把需要进行操作的字符用`()`括起来。每个分组会有一个组号。  

- 分组0对应整个正则表达式
- 从左到右从1开始依次分配组号，第一遍分配未命名的组，第二遍分配命名组
- 通过(`?<name>exp`或`?'name'exp`)来给分组命名`exp`表示分组的内容
- 通过(`?:exp`)不将内容捕获到分组里也不分配组号

#### 后向引用
`\n`用于重复引用前面第n组

#### 常用分组语法
|   分类   |   代码   |                    说明                   |
|----------|----------|-------------------------------------------|
| 捕获     | 如上     |                                           |
| 零宽断言 | (`?=exp`)  | 匹配exp所对的字符的 *前面*那个 **位置**   |
|          | (`?<=exp`) | 匹配exp所对的字符的 *后面*那个 **位置**   |
|          | (`?!exp`)  | 匹配字符 *后面*跟的不是exp的那个 **位置** |
|          | (`?<!exp`) | 匹配字符 *前面*跟的不是exp的那个 **位置** |


### 反义
匹配除了...以外的字符。

|   代码   |                    说明                    |
|----------|--------------------------------------------|
| \W       | 匹配任意不是字母，数字，下划线，汉字的字符 |
| \S       | 匹配任意不是空白符的字符                   |
| \D       | 匹配任意非数字的字符                       |
| \B       | 匹配不是单词开头或结束的位置               |
| [^x]     | 匹配除了x以外的任意字符                    |
| [^aeiou] | 匹配除了aeiou这几个字母以外的任意字符      |

### 匹配优先级问题
1. 最高优先级：从左向右匹配
2. 贪婪匹配`.*`：满足匹配条件的前提下匹配尽可能多的字符
3. 懒惰匹配`.*?`：满足匹配条件的前提下匹配尽可能少的字符

####懒惰限定符
|  代码  |           说明          |
|--------|-------------------------|
| *?     | 重复任意次尽可能少      |
| +?     | 重复1此或更多次尽可能少 |
| ??     | 重复0到1次尽可能少      |
| {n,m}? | 重复n到m次尽可能少      |
| {n,}?  | 重复n次以上尽可能少     |

##Javascript中的用法
### 创建正则表达式
```
var exp = /abc\123/
var exp = new RegExp('abc\\123')//注意这种方法要匹配`\`要用转义字符
```

对于第二种方法可以设置参数
```
//全局匹配
var exp = new RegExp('abc\\123','g')
//忽略大小写
var exp = new RegExp('abc\\123','i')
//开启多行模式
var exp = new RegExp('abc\\123','m')
```

### 相关方法
1. test()测试给定的字符串是否符合正则匹配条件
```
exp.test(str)
```
2. split()切分字符串
```
str.split(exp)
```
3. replace()方法
```
str.replace(exp,"$2,$1")
//$n表示选中正则匹配中的第n组
```
